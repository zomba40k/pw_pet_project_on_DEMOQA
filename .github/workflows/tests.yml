- name: Run tests with Allure
  run: |
    pytest --alluredir=allure-results
  continue-on-error: true

- name: Generate Allure report
  run: |
    allure generate allure-results -o allure-report --clean

- name: Upload Allure results
  uses: actions/upload-artifact@v4
  with:
    name: allure-results
    path: allure-results

- name: Upload Allure report
  uses: actions/upload-artifact@v4
  with:
    name: allure-report
    path: allure-report
